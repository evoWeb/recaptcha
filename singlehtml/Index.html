<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
    <title>recaptcha 14.0.1 documentation</title>

    
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1.0" name="viewport">
<meta content="phpdocumentor/guides" name="generator">
<meta content="recaptcha" name="docsearch:name">
<meta content="" name="docsearch:package_type">
<meta content="14.0.1" name="docsearch:release">
<meta content="14.0.1" name="docsearch:version">
<meta content="2024-11-03T09:47:33+00:00" name="docsearch:modified">
<meta content="2024-11-03T09:47:33+00:00" name="dc.modified">
<meta content="2024-11-03T09:47:33+00:00" property="article:modified_time">
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.dc">
<link href="../_resources/css/theme.css" rel="stylesheet">
<link href="https://docs.typo3.org/search/" rel="search" title="Search">
<script src="https://typo3.azureedge.net/typo3infrastructure/universe/dist/webcomponents-loader.js"></script>
<script src="https://typo3.azureedge.net/typo3infrastructure/universe/dist/typo3-universe.js" type="module"></script>
                </head>
<body>
<div class="page">
    
<header>
    <div class="page-topbar">
        <div class="page-topbar-inner">
            <typo3-universe active="documentation">
                <div style="display: block; height: 44px; background-color: #313131;"></div>
            </typo3-universe>
        </div>
    </div>
    <div class="page-header">
        <div class="page-header-inner">
            <div class="row">
                <div class="col-md-2 col-lg-4">
                    <a class="logo" href="https://docs.typo3.org/" title="TYPO3 Documentation">
                        <img alt="TYPO3 Logo" class="logo-image" src="../_resources/img/typo3-logo.svg" width="484" height="130">
                    </a>
                </div>
                <div class="col-md-10 col-lg-8">
                    <div class="menu-search-wrapper">
                        <all-documentations-menu data-override-url="https://render-guides.ddev.site/menu-proxy.php"></all-documentations-menu>
                                                <search role="search">
                            <form action="https://docs.typo3.org/search/search" id="global-search-form" method="get">
                                <div class="sr-only"><label for="globalsearchinput">TYPO3 documentation...</label></div>
                                <div class="input-group mb-3 mt-sm-3">
                                    <select class="form-select search__scope" id="searchscope" name="scope">
                                        <option value="">Search all</option>
                                    </select>
                                    <input autocomplete="off" class="form-control shadow-none" id="globalsearchinput" name="q" placeholder="TYPO3 documentation..." type="text" value="">
                                    <button class="btn btn-light search__submit" type="submit"><i class="fa fa-search"></i>&nbsp;<span class="d-none d-md-inline">Search</span></button>
                                </div>
                            </form>
                        </search>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>    <main class="page-main">
        <div class="page-main-inner">
            <div class="page-main-navigation">
                <nav>
                    <input class="toc-checkbox" id="toggleToc" type="checkbox">

                    
<div class="toc-header">
    <div class="toc-title">
        <a class="toc-title-project" href="#">recaptcha</a>
            <div class="toc-version-wrapper" id="toc-version-wrapper">
                <!--
                    LOCAL RENDERING NOTICE:
                    https://docs.typo3.org/other/t3docs/render-guides/main/en-us/Developer/AjaxVersions.html
                -->

                <div id="toc-version" class="toc-version" data-override-url-proxy="https://render-guides.ddev.site/versions-proxy.php?url=" data-override-url-self="https://docs.typo3.org/m/typo3/tutorial-getting-started/12.4/en-us/Concepts/Index.html">
                
                    <span class="toc-version-prefix">Release:</span>
                    <span class="toc-version-number">14.0.1</span>
                </div>
                <div id="toc-version-options" class="toc-version-options">
                    <p><span class="fa fa-spinner fa-spin"></span> Loading data.</p>
                </div>
            </div></div>
    <div class="toc-actions">
        <label class="toc-toggle" for="toggleToc">
            Menu
        </label>
    </div>
</div>                    <div class="toc-collapse">
                                                <div aria-label="main navigation" class="toc" role="navigation">
                                                                                </div>
                    </div>
                </nav>
            </div>
            <div class="page-main-content">
                <div class="rst-content">                                                                <!-- content start -->
    <article>
            
<section class="section" id="recaptcha-easy-on-humans-hard-on-bots" data-rst-anchor="start">
            <a id="start"></a>
            <h1>reCAPTCHA: Easy on Humans, Hard on Bots<a class="headerlink" href="#recaptcha-easy-on-humans-hard-on-bots" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h1>
            <dl class="field-list simple ">
            <dt class="field-odd">Extension Key</dt>

        <dd class="field-odd">
            
    <p>recaptcha</p>
        </dd>
            <dt class="field-odd">Package name</dt>

        <dd class="field-odd">
            
    <p>evoweb/recaptcha</p>
        </dd>
            <dt class="field-odd">Version</dt>

        <dd class="field-odd">
            
    <p>14.0.1</p>
        </dd>
            <dt class="field-odd">Language</dt>

        <dd class="field-odd">
            
    <p>en</p>
        </dd>
            <dt class="field-odd">Author</dt>

        <dd class="field-odd">
            
    <p>Sebastian Fischer</p>
        </dd>
            <dt class="field-odd">License</dt>

        <dd class="field-odd">
            
    <p>This document is published under the
<a href="https://www.opencontent.org/openpub/">Open Publication</a>.
license.</p>
        </dd>
            <dt class="field-odd">Rendered</dt>

        <dd class="field-odd">
            
    <p>Sun, 03 Nov 2024 09:47:33 +0000</p>
        </dd>
            <dt class="field-odd">Copyright</dt>

        <dd class="field-odd">
            
    <p>2015-2024</p>
        </dd>
    </dl>
            <hr />
            
    <p>Extension to provide reCAPTCHA and invisible reCAPTCHA to form related actions.</p>

            
    <p>The content of this document is related to TYPO3,
a GNU/GPL CMS/Framework available from <a href="http://typo3.org">http://typo3.org</a></p>

            <hr />
            
    <p><strong>Table of Contents:</strong></p>

            <div class="toctree-wrapper compound">
        <ul class="menu-level">
    <li class="toc-item">
    <a href="#introduction-1">Introduction</a>


</li>
    <li class="toc-item">
    <a href="#users-manual">Users manual</a>


</li>
    <li class="toc-item">
    <a href="#administration-1">Administration</a>


</li>
    <li class="toc-item">
    <a href="#breaking-changes-1">Breaking Changes</a>


</li>
    <li class="toc-item">
    <a href="#configuration-1">Configuration</a>


</li>
    <li class="toc-item">
    <a href="#content-security-policy">Content Security Policy</a>


</li>
    <li class="toc-item">
    <a href="#integration-1">Integration</a>


</li>
    <li class="toc-item">
    <a href="#templating-1">Templating</a>


</li>
    <li class="toc-item">
    <a href="#tutorial-1">Tutorial</a>


</li>
    </ul>
</div>
            
    </section>

        </article>
<article>
            
<section class="section" id="recaptcha-easy-on-humans-hard-on-bots" data-rst-anchor="start">
            <a id="start"></a>
            <h1>reCAPTCHA: Easy on Humans, Hard on Bots<a class="headerlink" href="#recaptcha-easy-on-humans-hard-on-bots" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h1>
            <dl class="field-list simple ">
            <dt class="field-odd">Extension Key</dt>

        <dd class="field-odd">
            
    <p>recaptcha</p>
        </dd>
            <dt class="field-odd">Package name</dt>

        <dd class="field-odd">
            
    <p>evoweb/recaptcha</p>
        </dd>
            <dt class="field-odd">Version</dt>

        <dd class="field-odd">
            
    <p>14.0.1</p>
        </dd>
            <dt class="field-odd">Language</dt>

        <dd class="field-odd">
            
    <p>en</p>
        </dd>
            <dt class="field-odd">Author</dt>

        <dd class="field-odd">
            
    <p>Sebastian Fischer</p>
        </dd>
            <dt class="field-odd">License</dt>

        <dd class="field-odd">
            
    <p>This document is published under the
<a href="https://www.opencontent.org/openpub/">Open Publication</a>.
license.</p>
        </dd>
            <dt class="field-odd">Rendered</dt>

        <dd class="field-odd">
            
    <p>Sun, 03 Nov 2024 09:47:33 +0000</p>
        </dd>
            <dt class="field-odd">Copyright</dt>

        <dd class="field-odd">
            
    <p>2015-2024</p>
        </dd>
    </dl>
            <hr />
            
    <p>Extension to provide reCAPTCHA and invisible reCAPTCHA to form related actions.</p>

            
    <p>The content of this document is related to TYPO3,
a GNU/GPL CMS/Framework available from <a href="http://typo3.org">http://typo3.org</a></p>

            <hr />
            
    <p><strong>Table of Contents:</strong></p>

            <div class="toctree-wrapper compound">
        <ul class="menu-level">
    <li class="toc-item">
    <a href="#introduction-1">Introduction</a>


</li>
    <li class="toc-item">
    <a href="#users-manual">Users manual</a>


</li>
    <li class="toc-item">
    <a href="#administration-1">Administration</a>


</li>
    <li class="toc-item">
    <a href="#breaking-changes-1">Breaking Changes</a>


</li>
    <li class="toc-item">
    <a href="#configuration-1">Configuration</a>


</li>
    <li class="toc-item">
    <a href="#content-security-policy">Content Security Policy</a>


</li>
    <li class="toc-item">
    <a href="#integration-1">Integration</a>


</li>
    <li class="toc-item">
    <a href="#templating-1">Templating</a>


</li>
    <li class="toc-item">
    <a href="#tutorial-1">Tutorial</a>


</li>
    </ul>
</div>
            
    </section>

        </article>
<article>
            
<section class="section" id="introduction-1" data-rst-anchor="introduction">
            <a id="introduction"></a>
            <h1>Introduction<a class="headerlink" href="#introduction-1" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h1>
            
    <p>This Documentation was written for version 8.2.0 of the extension.</p>

            <section class="section" id="functionality">
            <h2>Functionality<a class="headerlink" href="#functionality" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h2>
            
    <p>Only purpose is to render the reCAPTCHA and validate the response.
But provide these to other extensions which consumes the service.</p>

            
    <p>Also there are limited integrations into other extensions implemented.
These act more as an living example and integrate only in extensions
used by the author self.</p>

            <figure>
    <img
    src="Images/recaptcha.png"
                alt="Show example of captcha output"        />


            
            </figure>
    </section>
            <section class="section" id="features">
            <h2>Features<a class="headerlink" href="#features" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h2>
            
    <p>As a very focused extension only the following features are integrated</p>

            

<ul>
    <li class="dash">service for display and validation</li>
    <li class="dash">integration in form rendering of EXT:form</li>
    <li class="dash">integration of invisible captcha in EXT:form</li>
    <li class="dash">viewHelper for display in fluid templates</li>
    <li class="dash">validator for usage in extbase domain model validation</li>
    <li class="dash">adapter for in-/visible captcha in sf_register</li>
    <li class="dash">adapter for in-/visible captcha in typoscript</li>
</ul>

    </section>
    </section>

        </article>
<article>
            
<section class="section" id="users-manual" data-rst-anchor="user-manual">
            <a id="user-manual"></a>
            <h1>Users manual<a class="headerlink" href="#users-manual" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h1>
            <section class="section" id="usage-in-ext-form-manager">
            <h2>Usage in ext:form manager<a class="headerlink" href="#usage-in-ext-form-manager" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h2>
            
    <p>This extension doesn&#039;t come with a content element of any sort. As
it is only a service the captcha can&#039;t be used on its own. But there
is one part where editors are able to have the possibility to configure
captcha related settings.</p>

            <section class="section" id="add-captcha-to-form">
            <h3>Add captcha to form<a class="headerlink" href="#add-captcha-to-form" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h3>
            
    <p>In the form manager it&#039;s possible to add the captcha to a form by
choosing it in the new field wizard.</p>

            <figure>
    <img
    src="Images/add_recaptcha.png"
                alt="Recaptcha on the form element wizard"        />


            
            </figure>
    </section>
            <section class="section" id="configure-label">
            <h3>Configure label<a class="headerlink" href="#configure-label" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h3>
            
    <p>After the selection the user is able to choose if the label should be
rendered in frontend and if so what label text should be used.</p>

            <figure>
    <img
    src="Images/added_recaptcha.png"
                alt="Add recaptcha element in form"        />


            
            </figure>
    </section>
            <section class="section" id="use-invisible-captcha">
            <h3>Use invisible captcha<a class="headerlink" href="#use-invisible-captcha" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h3>
            
    <p>To use the invisible reCAPTCHA it&#039;s necessary to add an captcha field.
Once this is done the form needs to be configured via the settings
button on top of the form editor. There the checkbox for
&quot;Use invisible recaptcha&quot; needs to be checked.</p>

            <figure>
    <img
    src="Images/invisible_recaptcha.png"
                alt="Configuration of invisible recaptcha"        />


            
            </figure>
    </section>
    </section>
    </section>

        </article>
<article>
            
<section class="section" id="administration-1" data-rst-anchor="administration">
            <a id="administration"></a>
            <h1>Administration<a class="headerlink" href="#administration-1" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h1>
            
    <p>Installation for both TYPO3 CMS installation types (manual/composer)
are supported. For both a compatible installation is provided.</p>

            <section class="section" id="manual-installations">
            <h2>Manual installations<a class="headerlink" href="#manual-installations" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h2>
            
    <p>Download the extension recaptcha either with the browser from typo3.org_
or <a href="https://github.com/evoweb/recaptcha">github</a> and upload it into the installation in the admin tools extensions,
or directly in the admin tools extensions with the integrated search.</p>

    </section>
            <section class="section" id="composer-installations">
            <h2>Composer installations<a class="headerlink" href="#composer-installations" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h2>
            
    <p>On the console in the folder where the project composer.json resides
just type:</p>

                <div class="code-block-caption">
        <span class="caption-text">Installation via composer</span>
    </div><div class="code-block-wrapper" translate="no">
            
    <pre class="code-block"><code class="hljs bash">composer require evoweb/recaptcha ^8.2
composer update</code></pre>
    <div class="code-block-actions">        <button class="code-block-copy" title="Copy to clipboard">
            <i class="icon fa-regular fa-copy code-block-copy-icon"></i>
            <i class="fa-solid fa-check code-block-check-icon code-block-hide"></i>
        </button>
        <span class="code-block-check-tooltip code-block-hide" aria-live="polite">Copied!</span>
    </div>
</div>
    </section>
            <section class="section" id="activation">
            <h2>Activation<a class="headerlink" href="#activation" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h2>
            
    <p>After the extension is installed by either way you always need to activate
it. Normally this is done in the admin tools extensions. But its also possible
to activate it via console:</p>

                <div class="code-block-caption">
        <span class="caption-text">Activate extension on shell</span>
    </div><div class="code-block-wrapper" translate="no">
            
    <pre class="code-block"><code class="hljs bash">vendor/bin/typo3 extensionmanager:extension:install recaptcha</code></pre>
    <div class="code-block-actions">        <button class="code-block-copy" title="Copy to clipboard">
            <i class="icon fa-regular fa-copy code-block-copy-icon"></i>
            <i class="fa-solid fa-check code-block-check-icon code-block-hide"></i>
        </button>
        <span class="code-block-check-tooltip code-block-hide" aria-live="polite">Copied!</span>
    </div>
</div>
    </section>
            <section class="section" id="configuration">
            <h2>Configuration<a class="headerlink" href="#configuration" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h2>
            
    <p>If, the captcha should be usable in backend context or you like to have
a default configuration without touching TypoScript, the extensions
need to be configured in the admin tools extensions. Via the cog as shown
on the screenshot.</p>

            <figure>
    <img
    src="Images/configure.png"
                alt="Configure extension settings"        />


            
            </figure>
    </section>
    </section>

        </article>
<article>
            
<section class="section" id="breaking-changes-1" data-rst-anchor="breaking-changes">
            <a id="breaking-changes"></a>
            <h1>Breaking Changes<a class="headerlink" href="#breaking-changes-1" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h1>
            <section class="section" id="12-october-2024">
            <h2>12. October 2024<a class="headerlink" href="#12-october-2024" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h2>
            
    <p>The possibility for configuring extra keys for invisible recaptcha was added. For
this to work, the partials needed to be modified. If you override the partials,
please check that they contain the changes.</p>

            
    <p>In addition it was made possible to have more than one form with recaptcha on
a page. These needed a complete refactoring of form.js for the frontend. Check
that the inclusion via f:asset.script is the same in your site.</p>

            
    <p>Lastly the inclusion of the recaptcha.js was change from TypoScript includeFooterJs
to f:asset.script. By this only on page with a form that is protected with
recaptcha, the js file gets loaded. For this to work, you need to synchronize
the partials if you override them.</p>

    </section>
            <section class="section" id="13-august-2023">
            <h2>13. August 2023<a class="headerlink" href="#13-august-2023" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h2>
            <section class="section" id="partials">
            <h3>Partials<a class="headerlink" href="#partials" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h3>
            
    <p>Frontend partials have be changed. If modified check if your partials on changed
made to hidden fields.</p>

    </section>
            <section class="section" id="configuration-removed">
            <h3>Configuration removed<a class="headerlink" href="#configuration-removed" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h3>
            <dl>
                        <dt>TypoScript setup</dt>
        
        <dd>

<ul>
    <li class="dash">invisibleCallback</li>
    <li class="dash">captchaCssClass</li>
</ul>
</dd>
                                <dt>TypoScript constants</dt>
        
        <dd>

<ul>
    <li class="dash">invisible_recaptcha_formname</li>
    <li class="dash">include_invisible_recaptcha_callback</li>
</ul>
</dd>
            </dl>
            
    <p>Remove support for EXT:formhandler</p>

    </section>
    </section>
    </section>

        </article>
<article>
            
<section class="section" id="configuration-1" data-rst-anchor="configuration">
            <a id="configuration"></a>
            <h1>Configuration<a class="headerlink" href="#configuration-1" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h1>
            <section class="section" id="backend-related">
            <h2>Backend related<a class="headerlink" href="#backend-related" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h2>
            
    <p>If you like to use the recaptcha service in backend context, you have
to make sure that the settings are set in the admin tools extensions.</p>

    </section>
            <section class="section" id="frontend-related">
            <h2>Frontend related<a class="headerlink" href="#frontend-related" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h2>
            
    <p>For all frontend usage of the recaptcha service the backend settings
are taken and then overridden with TypoScript. But setting the backend
portion is optional. If these are empty the TypoScript configuration is
mandatory.</p>

    </section>
            <section class="section" id="reference">
            <h2>Reference<a class="headerlink" href="#reference" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h2>
            
    <p>Following parameter are available as constants. And with the same
name also as setup parameter.</p>

            
    <p>plugin.tx_recaptcha:</p>

            




<div class="table-responsive confval-table" id="confval-menu-constants-reference">
    <table class="table table-hover caption-top">        <thead>
        <tr>
            <th scope="col">Name</th>
            
                                    <th scope="col">Type</th>
                            
                                    <th scope="col">Default</th>
                                    </tr>
        </thead>
                        <tr>
        <td><div class="confval-label ps-0"><a href="#confval-api-server">api_<wbr>server</a></div></td>
                    <td>
                            <a href="https://docs.typo3.org/m/typo3/reference-typoscript/main/en-us/DataTypes/Index.html#data-type-string">string</a>
                        </td>
                    <td>
                                    <a href="https://www.google.com/recaptcha/api.js">https://www.google.com/recaptcha/api.js</a>
                                </td>
            </tr>
                
                        <tr>
        <td><div class="confval-label ps-0"><a href="#confval-verify-server">verify_<wbr>server</a></div></td>
                    <td>
                            <a href="https://docs.typo3.org/m/typo3/reference-typoscript/main/en-us/DataTypes/Index.html#data-type-string">string</a>
                        </td>
                    <td>
                                    <a href="https://www.google.com/recaptcha/api/siteverify">https://www.google.com/recaptcha/api/siteverify</a>
                                </td>
            </tr>
                
                        <tr>
        <td><div class="confval-label ps-0"><a href="#confval-public-key">public_<wbr>key</a></div></td>
                    <td>
                            <a href="https://docs.typo3.org/m/typo3/reference-typoscript/main/en-us/DataTypes/Index.html#data-type-string">string</a>
                        </td>
                    <td>
                                    6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI
                                </td>
            </tr>
                            
                        <tr>
        <td><div class="confval-label ps-0"><a href="#confval-private-key">private_<wbr>key</a></div></td>
                    <td>
                            <a href="https://docs.typo3.org/m/typo3/reference-typoscript/main/en-us/DataTypes/Index.html#data-type-string">string</a>
                        </td>
                    <td>
                                    6LeIxAcTAAAAAGG-vFI1TnRWxMZNFuojJ4WifJWe
                                </td>
            </tr>
                            
                        <tr>
        <td><div class="confval-label ps-0"><a href="#confval-lang">lang</a></div></td>
                    <td>
                            <a href="https://docs.typo3.org/m/typo3/reference-typoscript/main/en-us/DataTypes/Index.html#data-type-string">string</a>
                        </td>
                    <td>
                        </td>
            </tr>
                
                        <tr>
        <td><div class="confval-label ps-0"><a href="#confval-enforcecaptcha">enforce<wbr>Captcha</a></div></td>
                    <td>
                            <a href="https://docs.typo3.org/m/typo3/reference-typoscript/main/en-us/DataTypes/Index.html#data-type-boolean">string</a>
                        </td>
                    <td>
                                    0
                                </td>
            </tr>
                
                        <tr>
        <td><div class="confval-label ps-0"><a href="#confval-invisiblecallback">invisible<wbr>Callback</a></div></td>
                    <td>
                            <a href="https://docs.typo3.org/m/typo3/reference-typoscript/main/en-us/DataTypes/Index.html#data-type-string">string</a>
                        </td>
                    <td>
                                    onRecaptchaSubmit
                                </td>
            </tr>
                
                        <tr>
        <td><div class="confval-label ps-0"><a href="#confval-theme">theme</a></div></td>
                    <td>
                            <a href="https://docs.typo3.org/m/typo3/reference-typoscript/main/en-us/DataTypes/Index.html#data-type-string">string</a>
                        </td>
                    <td>
                                    light
                                </td>
            </tr>
                
                        <tr>
        <td><div class="confval-label ps-0"><a href="#confval-robotmode">robot<wbr>Mode</a></div></td>
                    <td>
                            <a href="https://docs.typo3.org/m/typo3/reference-typoscript/main/en-us/DataTypes/Index.html#data-type-boolean">string</a>
                        </td>
                    <td>
                                    0
                                </td>
            </tr>
                
            </table>
</div>
            <a id="api_server"></a>
                <section data-search-title="api_server"
         data-search-id="confval-api-server"
         data-search-facet="Option"
         class="confval-section"
>
    <h3 class="sr-only">api_server</h3>
    <dl class="confval">
        <dt id="confval-api-server"            class="d-flex justify-content-between">
            <div class="confval-header">
                <code class="sig-name descname"><span
                        class="pre">api_<wbr>server</span></code>
                                    <a class="headerlink" href="#confval-api-server"
                       data-bs-toggle="modal"
                       data-bs-target="#linkReferenceModal"
                       data-id="confval-api-server"
                       data-rstCode=":confval:`api_server &lt;evoweb/recaptcha:api-server&gt;`"
                       title="Reference this configuration value"><i
                            class="fa-solid fa-paragraph"></i></a>
                </div>
            <div class="confval-back-to-top">                    <a href="#" class="backToTop" title="Back to top"><i
                            class="fa-solid fa-arrow-up fa-xs"></i></a>            </div>
        </dt>
        <dd>
                            <dl class="field-list simple">
                                            <dt class="field-even">Type</dt>
                        <dd class="field-even"><a href="https://docs.typo3.org/m/typo3/reference-typoscript/main/en-us/DataTypes/Index.html#data-type-string">string</a>
                        </dd>
                                                <dt class="field-even">Default</dt>
                            <dd class="field-even"><a href="https://www.google.com/recaptcha/api.js">https://www.google.com/recaptcha/api.js</a>
                            </dd>
                        </dl>
                        <div class="confval-description">
                
    <p>This url is used to include the basic frontend functionality.
In general it&#039;s not necessary to modify this url. In case
that the api changes and the extension is not updated quick
enough changing this parameter keeps the frontend working.</p>

            </div>
        </dd>
    </dl>
</section>
                <a id="verify_server"></a>
                <section data-search-title="verify_server"
         data-search-id="confval-verify-server"
         data-search-facet="Option"
         class="confval-section"
>
    <h3 class="sr-only">verify_server</h3>
    <dl class="confval">
        <dt id="confval-verify-server"            class="d-flex justify-content-between">
            <div class="confval-header">
                <code class="sig-name descname"><span
                        class="pre">verify_<wbr>server</span></code>
                                    <a class="headerlink" href="#confval-verify-server"
                       data-bs-toggle="modal"
                       data-bs-target="#linkReferenceModal"
                       data-id="confval-verify-server"
                       data-rstCode=":confval:`verify_server &lt;evoweb/recaptcha:verify-server&gt;`"
                       title="Reference this configuration value"><i
                            class="fa-solid fa-paragraph"></i></a>
                </div>
            <div class="confval-back-to-top">                    <a href="#" class="backToTop" title="Back to top"><i
                            class="fa-solid fa-arrow-up fa-xs"></i></a>            </div>
        </dt>
        <dd>
                            <dl class="field-list simple">
                                            <dt class="field-even">Type</dt>
                        <dd class="field-even"><a href="https://docs.typo3.org/m/typo3/reference-typoscript/main/en-us/DataTypes/Index.html#data-type-string">string</a>
                        </dd>
                                                <dt class="field-even">Default</dt>
                            <dd class="field-even"><a href="https://www.google.com/recaptcha/api/siteverify">https://www.google.com/recaptcha/api/siteverify</a>
                            </dd>
                        </dl>
                        <div class="confval-description">
                
    <p>Every verification uses this url to check if the captcha was solved.
In general it&#039;s not necessary to modify this url. In case that the
api changes and the extension is not updated quick enough changing
this parameter keeps the validation working.</p>

            </div>
        </dd>
    </dl>
</section>
                <a id="public_key"></a>
                <section data-search-title="public_key"
         data-search-id="confval-public-key"
         data-search-facet="Option"
         class="confval-section"
>
    <h3 class="sr-only">public_key</h3>
    <dl class="confval">
        <dt id="confval-public-key"            class="d-flex justify-content-between">
            <div class="confval-header">
                <code class="sig-name descname"><span
                        class="pre">public_<wbr>key</span></code>
                                    <a class="headerlink" href="#confval-public-key"
                       data-bs-toggle="modal"
                       data-bs-target="#linkReferenceModal"
                       data-id="confval-public-key"
                       data-rstCode=":confval:`public_key &lt;evoweb/recaptcha:public-key&gt;`"
                       title="Reference this configuration value"><i
                            class="fa-solid fa-paragraph"></i></a>
                </div>
            <div class="confval-back-to-top">                    <a href="#" class="backToTop" title="Back to top"><i
                            class="fa-solid fa-arrow-up fa-xs"></i></a>            </div>
        </dt>
        <dd>
                            <dl class="field-list simple">
                                            <dt class="field-even">Type</dt>
                        <dd class="field-even"><a href="https://docs.typo3.org/m/typo3/reference-typoscript/main/en-us/DataTypes/Index.html#data-type-string">string</a>
                        </dd>
                                                <dt class="field-even">Default</dt>
                            <dd class="field-even">6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI
                            </dd>
                        </dl>
                        <div class="confval-description">
                
    <p>The public key is needed for the frontend rendering.</p>

    <p>Google provides a key for automatic testing purpose and this is used
as default. To remove the warning that is caused by using the default
key please go to the recaptcha <a href="https://www.google.com/recaptcha/admin">admin</a> and register an own key for use
in your site.</p>

            </div>
        </dd>
    </dl>
</section>
                <a id="private_key"></a>
                <section data-search-title="private_key"
         data-search-id="confval-private-key"
         data-search-facet="Option"
         class="confval-section"
>
    <h3 class="sr-only">private_key</h3>
    <dl class="confval">
        <dt id="confval-private-key"            class="d-flex justify-content-between">
            <div class="confval-header">
                <code class="sig-name descname"><span
                        class="pre">private_<wbr>key</span></code>
                                    <a class="headerlink" href="#confval-private-key"
                       data-bs-toggle="modal"
                       data-bs-target="#linkReferenceModal"
                       data-id="confval-private-key"
                       data-rstCode=":confval:`private_key &lt;evoweb/recaptcha:private-key&gt;`"
                       title="Reference this configuration value"><i
                            class="fa-solid fa-paragraph"></i></a>
                </div>
            <div class="confval-back-to-top">                    <a href="#" class="backToTop" title="Back to top"><i
                            class="fa-solid fa-arrow-up fa-xs"></i></a>            </div>
        </dt>
        <dd>
                            <dl class="field-list simple">
                                            <dt class="field-even">Type</dt>
                        <dd class="field-even"><a href="https://docs.typo3.org/m/typo3/reference-typoscript/main/en-us/DataTypes/Index.html#data-type-string">string</a>
                        </dd>
                                                <dt class="field-even">Default</dt>
                            <dd class="field-even">6LeIxAcTAAAAAGG-vFI1TnRWxMZNFuojJ4WifJWe
                            </dd>
                        </dl>
                        <div class="confval-description">
                
    <p>The private key is needed for the validation of submits.</p>

    <p>Google provides a key for automatic testing purpose and this is used
as default. To remove the warning that is caused by using the default
key please go to the recaptcha <a href="https://www.google.com/recaptcha/admin">admin</a> and register an own key for use
in your site.</p>

            </div>
        </dd>
    </dl>
</section>
                <a id="lang"></a>
                <section data-search-title="lang"
         data-search-id="confval-lang"
         data-search-facet="Option"
         class="confval-section"
>
    <h3 class="sr-only">lang</h3>
    <dl class="confval">
        <dt id="confval-lang"            class="d-flex justify-content-between">
            <div class="confval-header">
                <code class="sig-name descname"><span
                        class="pre">lang</span></code>
                                    <a class="headerlink" href="#confval-lang"
                       data-bs-toggle="modal"
                       data-bs-target="#linkReferenceModal"
                       data-id="confval-lang"
                       data-rstCode=":confval:`lang &lt;evoweb/recaptcha:lang&gt;`"
                       title="Reference this configuration value"><i
                            class="fa-solid fa-paragraph"></i></a>
                </div>
            <div class="confval-back-to-top">                    <a href="#" class="backToTop" title="Back to top"><i
                            class="fa-solid fa-arrow-up fa-xs"></i></a>            </div>
        </dt>
        <dd>
                            <dl class="field-list simple">
                                            <dt class="field-even">Type</dt>
                        <dd class="field-even"><a href="https://docs.typo3.org/m/typo3/reference-typoscript/main/en-us/DataTypes/Index.html#data-type-string">string</a>
                        </dd>
                    </dl>
                        <div class="confval-description">
                
    <p>Recaptcha is very good in automatic detecting which language to use
based on the users browser settings and with which IP the page gets
visited.
Only in case if it is really necessary set this parameter to take
influence on the rendered language.</p>

            </div>
        </dd>
    </dl>
</section>
                <a id="enforceCaptcha"></a>
                <section data-search-title="enforceCaptcha"
         data-search-id="confval-enforcecaptcha"
         data-search-facet="Option"
         class="confval-section"
>
    <h3 class="sr-only">enforceCaptcha</h3>
    <dl class="confval">
        <dt id="confval-enforcecaptcha"            class="d-flex justify-content-between">
            <div class="confval-header">
                <code class="sig-name descname"><span
                        class="pre">enforce<wbr>Captcha</span></code>
                                    <a class="headerlink" href="#confval-enforcecaptcha"
                       data-bs-toggle="modal"
                       data-bs-target="#linkReferenceModal"
                       data-id="confval-enforcecaptcha"
                       data-rstCode=":confval:`enforceCaptcha &lt;evoweb/recaptcha:enforcecaptcha&gt;`"
                       title="Reference this configuration value"><i
                            class="fa-solid fa-paragraph"></i></a>
                </div>
            <div class="confval-back-to-top">                    <a href="#" class="backToTop" title="Back to top"><i
                            class="fa-solid fa-arrow-up fa-xs"></i></a>            </div>
        </dt>
        <dd>
                            <dl class="field-list simple">
                                            <dt class="field-even">Type</dt>
                        <dd class="field-even"><a href="https://docs.typo3.org/m/typo3/reference-typoscript/main/en-us/DataTypes/Index.html#data-type-boolean">string</a>
                        </dd>
                                                <dt class="field-even">Default</dt>
                            <dd class="field-even">0
                            </dd>
                        </dl>
                        <div class="confval-description">
                
    <p>This configuration parameter will enforce the captcha to test
the functionality on development systems.
EXT:recaptcha uses the application context to detect if an
installation is running in Development mode. If so the captcha
is not rendered or validated.
This is a to reduce external calls and b to not bother the
integrator every time he has to test forms. Because after a
limited amount of tests the captcha testing games must always
be solved instead only clicking a checkbox.</p>

            </div>
        </dd>
    </dl>
</section>
                <a id="invisibleCallback"></a>
                <section data-search-title="invisibleCallback"
         data-search-id="confval-invisiblecallback"
         data-search-facet="Option"
         class="confval-section"
>
    <h3 class="sr-only">invisibleCallback</h3>
    <dl class="confval">
        <dt id="confval-invisiblecallback"            class="d-flex justify-content-between">
            <div class="confval-header">
                <code class="sig-name descname"><span
                        class="pre">invisible<wbr>Callback</span></code>
                                    <a class="headerlink" href="#confval-invisiblecallback"
                       data-bs-toggle="modal"
                       data-bs-target="#linkReferenceModal"
                       data-id="confval-invisiblecallback"
                       data-rstCode=":confval:`invisibleCallback &lt;evoweb/recaptcha:invisiblecallback&gt;`"
                       title="Reference this configuration value"><i
                            class="fa-solid fa-paragraph"></i></a>
                </div>
            <div class="confval-back-to-top">                    <a href="#" class="backToTop" title="Back to top"><i
                            class="fa-solid fa-arrow-up fa-xs"></i></a>            </div>
        </dt>
        <dd>
                            <dl class="field-list simple">
                                            <dt class="field-even">Type</dt>
                        <dd class="field-even"><a href="https://docs.typo3.org/m/typo3/reference-typoscript/main/en-us/DataTypes/Index.html#data-type-string">string</a>
                        </dd>
                                                <dt class="field-even">Default</dt>
                            <dd class="field-even">onRecaptchaSubmit
                            </dd>
                        </dl>
                        <div class="confval-description">
                
    <p>[Only TypoScript]
For invisible reCAPTCHA its necessary to have a callback
function in JavaScript. It is possible to have own code
that derives from the included. If in this case the name
of the callback is changed please adjust this parameter
to match the new name.</p>

            </div>
        </dd>
    </dl>
</section>
                <a id="theme"></a>
                <section data-search-title="theme"
         data-search-id="confval-theme"
         data-search-facet="Option"
         class="confval-section"
>
    <h3 class="sr-only">theme</h3>
    <dl class="confval">
        <dt id="confval-theme"            class="d-flex justify-content-between">
            <div class="confval-header">
                <code class="sig-name descname"><span
                        class="pre">theme</span></code>
                                    <a class="headerlink" href="#confval-theme"
                       data-bs-toggle="modal"
                       data-bs-target="#linkReferenceModal"
                       data-id="confval-theme"
                       data-rstCode=":confval:`theme &lt;evoweb/recaptcha:theme&gt;`"
                       title="Reference this configuration value"><i
                            class="fa-solid fa-paragraph"></i></a>
                </div>
            <div class="confval-back-to-top">                    <a href="#" class="backToTop" title="Back to top"><i
                            class="fa-solid fa-arrow-up fa-xs"></i></a>            </div>
        </dt>
        <dd>
                            <dl class="field-list simple">
                                            <dt class="field-even">Type</dt>
                        <dd class="field-even"><a href="https://docs.typo3.org/m/typo3/reference-typoscript/main/en-us/DataTypes/Index.html#data-type-string">string</a>
                        </dd>
                                                <dt class="field-even">Default</dt>
                            <dd class="field-even">light
                            </dd>
                                                    <dt class="field-even">Possible values</dt>
                            <dd class="field-even">light, dark
                            </dd>
                        </dl>
                        <div class="confval-description">
                
    <p>[Only TypoScript]
For change the theme for recaptcha (light or dark).</p>

            </div>
        </dd>
    </dl>
</section>
                <a id="robotMode"></a>
                <section data-search-title="robotMode"
         data-search-id="confval-robotmode"
         data-search-facet="Option"
         class="confval-section"
>
    <h3 class="sr-only">robotMode</h3>
    <dl class="confval">
        <dt id="confval-robotmode"            class="d-flex justify-content-between">
            <div class="confval-header">
                <code class="sig-name descname"><span
                        class="pre">robot<wbr>Mode</span></code>
                                    <a class="headerlink" href="#confval-robotmode"
                       data-bs-toggle="modal"
                       data-bs-target="#linkReferenceModal"
                       data-id="confval-robotmode"
                       data-rstCode=":confval:`robotMode &lt;evoweb/recaptcha:robotmode&gt;`"
                       title="Reference this configuration value"><i
                            class="fa-solid fa-paragraph"></i></a>
                </div>
            <div class="confval-back-to-top">                    <a href="#" class="backToTop" title="Back to top"><i
                            class="fa-solid fa-arrow-up fa-xs"></i></a>            </div>
        </dt>
        <dd>
                            <dl class="field-list simple">
                                            <dt class="field-even">Type</dt>
                        <dd class="field-even"><a href="https://docs.typo3.org/m/typo3/reference-typoscript/main/en-us/DataTypes/Index.html#data-type-boolean">string</a>
                        </dd>
                                                <dt class="field-even">Default</dt>
                            <dd class="field-even">0
                            </dd>
                        </dl>
                        <div class="confval-description">
                
    <p>[Only TypoScript]
Add the possibility to set the recaptcha into robot mode in production environment.
The recaptcha will not be displayed like in development mode.</p>

            </div>
        </dd>
    </dl>
</section>
    
    </section>
    </section>

        </article>
<article>
            
<section class="section" id="content-security-policy" data-rst-anchor="csp">
            <a id="csp"></a>
            <h1>Content Security Policy<a class="headerlink" href="#content-security-policy" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h1>
            <section class="section" id="reason">
            <h2>Reason<a class="headerlink" href="#reason" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h2>
            
    <p>Since TYPO3 12 handling of content security policies are introduced. If this
feature is active, the recaptcha javascript can not be loaded without additional
configuration.</p>

    </section>
            <section class="section" id="csp-configuration">
            <h2>CSP Configuration<a class="headerlink" href="#csp-configuration" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h2>
            
    <p>To get the recaptcha working with csp feature active, it&#039;s necessary to add an
extending mutation to the site configuration in a csp.yaml named file.</p>

                <div class="code-block-caption">
        <span class="caption-text">project_root/config/sites/main/csp.yaml</span>
    </div><div class="code-block-wrapper" translate="no">
            
    <pre class="code-block"><code class="hljs yaml"><span class="hljs-attr">inheritDefault:</span> <span class="hljs-literal">true</span>
<span class="hljs-attr">mutations:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">mode:</span> <span class="hljs-string">extend</span>
    <span class="hljs-attr">directive:</span> <span class="hljs-string">'frame-src'</span>
    <span class="hljs-attr">sources:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">'https://www.google.com/recaptcha/'</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">'https://recaptcha.google.com/recaptcha/'</span>

  <span class="hljs-bullet">-</span> <span class="hljs-attr">mode:</span> <span class="hljs-string">extend</span>
    <span class="hljs-attr">directive:</span> <span class="hljs-string">'script-src'</span>
    <span class="hljs-attr">sources:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">'https://www.google.com/recaptcha/'</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">'https://www.gstatic.com/recaptcha/'</span></code></pre>
    <div class="code-block-actions">        <button class="code-block-copy" title="Copy to clipboard">
            <i class="icon fa-regular fa-copy code-block-copy-icon"></i>
            <i class="fa-solid fa-check code-block-check-icon code-block-hide"></i>
        </button>
        <span class="code-block-check-tooltip code-block-hide" aria-live="polite">Copied!</span>
    </div>
</div>
    </section>
            <section class="section" id="template-modifications">
            <h2>Template modifications<a class="headerlink" href="#template-modifications" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h2>
            
    <p>In previous releases some onclick javascript was used. While the CSP rules are
in place, this should be omitted. Some code was moved to the Frontend/form.js.
Other was replaced with hidden inputs.</p>

            
    <p>If you override the Frontend/Partials/Form/Navigation.html please check if it&#039;s
in line with the provided file.</p>

    </section>
    </section>

        </article>
<article>
            
<section class="section" id="integration-1" data-rst-anchor="integration">
            <a id="integration"></a>
            <h1>Integration<a class="headerlink" href="#integration-1" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h1>
            <section class="section" id="use-in-your-extension">
            <h2>Use in your extension<a class="headerlink" href="#use-in-your-extension" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h2>
            
    <p>To make use of this extension is quite easy as there is only one
service needed. By instantiating the
EvowebRecaptchaServicesCaptchaService it&#039;s possible to render
and validate the captcha.
Beside the service there are a ViewHelper and a Validator for use in
extbase extensions.</p>

    </section>
            <section class="section" id="integration-in-your-own-code">
            <h2>Integration in your own code<a class="headerlink" href="#integration-in-your-own-code" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h2>
            <section class="section" id="rendering-hole-captcha">
            <h3>Rendering hole captcha<a class="headerlink" href="#rendering-hole-captcha" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h3>
            
    <p>To render you are able to let the service take care of the output
by calling getReCaptcha.</p>

                <div class="code-block-caption">
        <span class="caption-text">Get rendered captcha from service</span>
    </div><div class="code-block-wrapper" translate="no">
            
    <pre class="code-block"><code class="hljs php">$captchaService = \TYPO3\CMS\Core\Utility\GeneralUtility::makeInstance(\Evoweb\Recaptcha\Services\CaptchaService::class);
$output = $captchaService-&gt;getReCaptcha();</code></pre>
    <div class="code-block-actions">        <button class="code-block-copy" title="Copy to clipboard">
            <i class="icon fa-regular fa-copy code-block-copy-icon"></i>
            <i class="fa-solid fa-check code-block-check-icon code-block-hide"></i>
        </button>
        <span class="code-block-check-tooltip code-block-hide" aria-live="polite">Copied!</span>
    </div>
</div>
            
    <p>Please keep in mind that it only renders the captcha. If you need
something to trigger the validation in your controller it&#039;s up to
you to add the code.</p>

    </section>
            <section class="section" id="render-on-your-own">
            <h3>Render on your own<a class="headerlink" href="#render-on-your-own" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h3>
            
    <p>If you prefer to render on your own its possible to let the service
prepare the settings for you.</p>

                <div class="code-block-caption">
        <span class="caption-text">Get settings to render individually</span>
    </div><div class="code-block-wrapper" translate="no">
            
    <pre class="code-block"><code class="hljs php">$captchaService = \TYPO3\CMS\Core\Utility\GeneralUtility::makeInstance(\Evoweb\Recaptcha\Services\CaptchaService::class);
$configuration = $captchaService-&gt;getConfiguration();
$showCaptcha = $captchaService-&gt;getShowCaptcha();</code></pre>
    <div class="code-block-actions">        <button class="code-block-copy" title="Copy to clipboard">
            <i class="icon fa-regular fa-copy code-block-copy-icon"></i>
            <i class="fa-solid fa-check code-block-check-icon code-block-hide"></i>
        </button>
        <span class="code-block-check-tooltip code-block-hide" aria-live="polite">Copied!</span>
    </div>
</div>
            
    <p>By using this you need to render the html completely on your own.</p>

    </section>
            <section class="section" id="validate-submitted-form">
            <h3>Validate submitted form<a class="headerlink" href="#validate-submitted-form" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h3>
            
    <p>To validate just call the validateReCaptcha method and you get the
result of the validation to check against.</p>

                <div class="code-block-caption">
        <span class="caption-text">Validate captcha in extension</span>
    </div><div class="code-block-wrapper" translate="no">
            
    <pre class="code-block"><code class="hljs php">$validCaptcha = <span class="hljs-keyword">false</span>;

$captchaService = \TYPO3\CMS\Core\Utility\GeneralUtility::makeInstance(\Evoweb\Recaptcha\Services\CaptchaService::class);
$captchaServiceValidation = $captchaService-&gt;validateReCaptcha();
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">isset</span>($captchaServiceValidation[<span class="hljs-string">'verified'</span>])) {
    <span class="hljs-keyword">if</span> ($captchaServiceValidation[<span class="hljs-string">'verified'</span>] === <span class="hljs-keyword">true</span>) {
        $validCaptcha = <span class="hljs-keyword">true</span>;
    }
}</code></pre>
    <div class="code-block-actions">        <button class="code-block-copy" title="Copy to clipboard">
            <i class="icon fa-regular fa-copy code-block-copy-icon"></i>
            <i class="fa-solid fa-check code-block-check-icon code-block-hide"></i>
        </button>
        <span class="code-block-check-tooltip code-block-hide" aria-live="polite">Copied!</span>
    </div>
</div>
    </section>
    </section>
            <section class="section" id="integration-in-extbase-extension">
            <h2>Integration in extbase extension<a class="headerlink" href="#integration-in-extbase-extension" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h2>
            <section class="section" id="rendering-the-captcha">
            <h3>Rendering the captcha<a class="headerlink" href="#rendering-the-captcha" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h3>
            
    <p>For rendering the captcha in a fluid template there is a ViewHelper
that prepares the configuration and then renders the captcha.</p>

                <div class="code-block-caption">
        <span class="caption-text">ViewHelper example integration</span>
    </div><div class="code-block-wrapper" translate="no">
            
    <pre class="code-block"><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">r:form.recaptcha</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">f:if</span> <span class="hljs-attr">condition</span>=<span class="hljs-string">"{showCaptcha}"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">f:then</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">f:form.hidden</span> <span class="hljs-attr">property</span>=<span class="hljs-string">"{name}"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"1"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"g-recaptcha"</span> <span class="hljs-attr">data-sitekey</span>=<span class="hljs-string">"{configuration.public_key}"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">f:then</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">f:else</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"recaptcha-development-mode"</span>&gt;</span>
        Development mode active. Do not expect the captcha to appear.
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">f:else</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">f:if</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">r:form.recaptcha</span>&gt;</span></code></pre>
    <div class="code-block-actions">        <button class="code-block-copy" title="Copy to clipboard">
            <i class="icon fa-regular fa-copy code-block-copy-icon"></i>
            <i class="fa-solid fa-check code-block-check-icon code-block-hide"></i>
        </button>
        <span class="code-block-check-tooltip code-block-hide" aria-live="polite">Copied!</span>
    </div>
</div>
    </section>
            <section class="section" id="validation-in-model">
            <h3>Validation in model<a class="headerlink" href="#validation-in-model" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h3>
            
    <p>After the form was submitted the validation of the form model is quite
easy. Just annotate as usual.</p>

                <div class="code-block-caption">
        <span class="caption-text">Add captcha validator to model property</span>
    </div><div class="code-block-wrapper" translate="no">
            
    <pre class="code-block"><code class="hljs php"><span class="hljs-comment">/**
 * virtual not stored in database
 *
 * <span class="hljs-doctag">@var</span> string
 * <span class="hljs-doctag">@validate</span> \Evoweb\Recaptcha\Validation\RecaptchaValidator
 */</span>
<span class="hljs-keyword">protected</span> $captcha;</code></pre>
    <div class="code-block-actions">        <button class="code-block-copy" title="Copy to clipboard">
            <i class="icon fa-regular fa-copy code-block-copy-icon"></i>
            <i class="fa-solid fa-check code-block-check-icon code-block-hide"></i>
        </button>
        <span class="code-block-check-tooltip code-block-hide" aria-live="polite">Copied!</span>
    </div>
</div>
    </section>
    </section>
    </section>

        </article>
<article>
            
<section class="section" id="templating-1" data-rst-anchor="templating">
            <a id="templating"></a>
            <h1>Templating<a class="headerlink" href="#templating-1" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h1>
            
    <p>For templating there are only two interesting parts to consider. How
to use the ViewHelper and direct inclusion in custom extension are
the only parts to modify.</p>

            <section class="section" id="viewhelper-integration">
            <h2>ViewHelper integration<a class="headerlink" href="#viewhelper-integration" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h2>
            
    <p>Using the ViewHelper has the benefit that it covers the hole configuration
discovery with fallback. Inside the ViewHelper three variables are set.</p>

            




<div class="table-responsive confval-table" id="confval-menu-viewhelper-attributes">
    <table class="table table-hover caption-top">        <thead>
        <tr>
            <th scope="col">Name</th>
            
                                    <th scope="col">Type</th>
                            
                                    <th scope="col">Default</th>
                                    </tr>
        </thead>
                        <tr>
        <td><div class="confval-label ps-0"><a href="#confval-name">name</a></div></td>
                    <td>
                            <a href="https://docs.typo3.org/m/typo3/reference-typoscript/main/en-us/DataTypes/Index.html#data-type-string">string</a>
                        </td>
                    <td>
                                    formName[formObject][captcha]
                                </td>
            </tr>
                
                        <tr>
        <td><div class="confval-label ps-0"><a href="#confval-showcaptcha">show<wbr>Captcha</a></div></td>
                    <td>
                            <a href="https://docs.typo3.org/m/typo3/reference-typoscript/main/en-us/DataTypes/Index.html#data-type-boolean">boolean</a>
                        </td>
                    <td>
                                    true on Development and false on Production
                                </td>
            </tr>
                
                        <tr>
        <td><div class="confval-label ps-0"><a href="#confval-configuration">configuration</a></div></td>
                    <td>
                            array
                        </td>
                    <td>
                                    settings from TypoScript
                                </td>
            </tr>
                
            </table>
</div>
            <a id="name-attributes"></a>
                <section data-search-title="name"
         data-search-id="confval-name"
         data-search-facet="Option"
         class="confval-section"
>
    <h3 class="sr-only">name</h3>
    <dl class="confval">
        <dt id="confval-name"            class="d-flex justify-content-between">
            <div class="confval-header">
                <code class="sig-name descname"><span
                        class="pre">name</span></code>
                                    <a class="headerlink" href="#confval-name"
                       data-bs-toggle="modal"
                       data-bs-target="#linkReferenceModal"
                       data-id="confval-name"
                       data-rstCode=":confval:`name &lt;evoweb/recaptcha:name&gt;`"
                       title="Reference this configuration value"><i
                            class="fa-solid fa-paragraph"></i></a>
                </div>
            <div class="confval-back-to-top">                    <a href="#" class="backToTop" title="Back to top"><i
                            class="fa-solid fa-arrow-up fa-xs"></i></a>            </div>
        </dt>
        <dd>
                            <dl class="field-list simple">
                                            <dt class="field-even">Type</dt>
                        <dd class="field-even"><a href="https://docs.typo3.org/m/typo3/reference-typoscript/main/en-us/DataTypes/Index.html#data-type-string">string</a>
                        </dd>
                                                <dt class="field-even">Default</dt>
                            <dd class="field-even">formName[formObject][captcha]
                            </dd>
                        </dl>
                        <div class="confval-description">
                
    <p>This value depends heavily on fluids field name generation
and will vary through out the templates where it gets used.</p>

            </div>
        </dd>
    </dl>
</section>
                <a id="showCaptcha-attributes"></a>
                <section data-search-title="showCaptcha"
         data-search-id="confval-showcaptcha"
         data-search-facet="Option"
         class="confval-section"
>
    <h3 class="sr-only">showCaptcha</h3>
    <dl class="confval">
        <dt id="confval-showcaptcha"            class="d-flex justify-content-between">
            <div class="confval-header">
                <code class="sig-name descname"><span
                        class="pre">show<wbr>Captcha</span></code>
                                    <a class="headerlink" href="#confval-showcaptcha"
                       data-bs-toggle="modal"
                       data-bs-target="#linkReferenceModal"
                       data-id="confval-showcaptcha"
                       data-rstCode=":confval:`showCaptcha &lt;evoweb/recaptcha:showcaptcha&gt;`"
                       title="Reference this configuration value"><i
                            class="fa-solid fa-paragraph"></i></a>
                </div>
            <div class="confval-back-to-top">                    <a href="#" class="backToTop" title="Back to top"><i
                            class="fa-solid fa-arrow-up fa-xs"></i></a>            </div>
        </dt>
        <dd>
                            <dl class="field-list simple">
                                            <dt class="field-even">Type</dt>
                        <dd class="field-even"><a href="https://docs.typo3.org/m/typo3/reference-typoscript/main/en-us/DataTypes/Index.html#data-type-boolean">boolean</a>
                        </dd>
                                                <dt class="field-even">Default</dt>
                            <dd class="field-even">true on Development and false on Production
                            </dd>
                        </dl>
                        <div class="confval-description">
                
    <p>Contains whether the catpcha should be rendered at all and
depends on the application mode.</p>

            </div>
        </dd>
    </dl>
</section>
                <a id="configuration-attributes"></a>
                <section data-search-title="configuration"
         data-search-id="confval-configuration"
         data-search-facet="Option"
         class="confval-section"
>
    <h3 class="sr-only">configuration</h3>
    <dl class="confval">
        <dt id="confval-configuration"            class="d-flex justify-content-between">
            <div class="confval-header">
                <code class="sig-name descname"><span
                        class="pre">configuration</span></code>
                                    <a class="headerlink" href="#confval-configuration"
                       data-bs-toggle="modal"
                       data-bs-target="#linkReferenceModal"
                       data-id="confval-configuration"
                       data-rstCode=":confval:`configuration &lt;evoweb/recaptcha:configuration&gt;`"
                       title="Reference this configuration value"><i
                            class="fa-solid fa-paragraph"></i></a>
                </div>
            <div class="confval-back-to-top">                    <a href="#" class="backToTop" title="Back to top"><i
                            class="fa-solid fa-arrow-up fa-xs"></i></a>            </div>
        </dt>
        <dd>
                            <dl class="field-list simple">
                                            <dt class="field-even">Type</dt>
                        <dd class="field-even">array
                        </dd>
                                                <dt class="field-even">Default</dt>
                            <dd class="field-even">settings from TypoScript
                            </dd>
                        </dl>
                        <div class="confval-description">
                
    <p>Provides the configuration set in TypoScript with fallback
to extension configuration set in admin tools extensions.</p>

            </div>
        </dd>
    </dl>
</section>
    
    </section>
            <section class="section" id="viewhelper-usage">
            <h2>ViewHelper usage<a class="headerlink" href="#viewhelper-usage" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h2>
                <div class="code-block-caption">
        <span class="caption-text">ViewHelper example integration</span>
    </div><div class="code-block-wrapper" translate="no">
            
    <pre class="code-block"><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">r:form.recaptcha</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">f:if</span> <span class="hljs-attr">condition</span>=<span class="hljs-string">"{showCaptcha}"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">f:then</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">f:form.hidden</span> <span class="hljs-attr">property</span>=<span class="hljs-string">"{name}"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"1"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"g-recaptcha"</span> <span class="hljs-attr">data-sitekey</span>=<span class="hljs-string">"{configuration.public_key}"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">f:then</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">f:else</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"recaptcha-development-mode"</span>&gt;</span>
        Development mode active. Do not expect the captcha to appear.
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">f:else</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">f:if</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">r:form.recaptcha</span>&gt;</span></code></pre>
    <div class="code-block-actions">        <button class="code-block-copy" title="Copy to clipboard">
            <i class="icon fa-regular fa-copy code-block-copy-icon"></i>
            <i class="fa-solid fa-check code-block-check-icon code-block-hide"></i>
        </button>
        <span class="code-block-check-tooltip code-block-hide" aria-live="polite">Copied!</span>
    </div>
</div>
    </section>
            <section class="section" id="integration-in-extension">
            <h2>Integration in extension<a class="headerlink" href="#integration-in-extension" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h2>
            
    <p>Here the extension delivers only limited settings. In TypoScript there
is the <strong>public_key</strong> defined which can be rendered as stdWrap to resolve
an div container with all needed information to output the captcha.</p>

    </section>
    </section>

        </article>
<article>
            
<section class="section" id="tutorial-1" data-rst-anchor="tutorial">
            <a id="tutorial"></a>
            <h1>Tutorial<a class="headerlink" href="#tutorial-1" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h1>
            <section class="section" id="use-invisible-recaptcha-in-ext-form-forms">
            <h2>Use invisible recaptcha in EXT:form forms<a class="headerlink" href="#use-invisible-recaptcha-in-ext-form-forms" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h2>
            
    <p>To use the invisible captcha in the form you need to add the advanced
element &quot;reCAPTCHA&quot;. This field has the validation automatically added.
Next step is to open the &quot;Settings&quot; of the form and need to check the
&quot;Use invisible recaptcha&quot;.</p>

            
    <p>At last you need to add the TypoScript constants. One is to enable to
the inclusion of the invisible recaptcha callback and the other is to
tell the callback which id the form to handle has.</p>

                <div class="code-block-caption">
        <span class="caption-text">EXT:site_package/Configuration/TypoScript/setup.typoscript</span>
    </div><div class="code-block-wrapper" translate="no">
            
    <pre class="code-block"><code class="hljs typoscript">plugin.tx_recaptcha {
    include_invisible_recaptcha_callback = 1
    invisible_recaptcha_formname = captchaForm-4
}</code></pre>
    <div class="code-block-actions">        <button class="code-block-copy" title="Copy to clipboard">
            <i class="icon fa-regular fa-copy code-block-copy-icon"></i>
            <i class="fa-solid fa-check code-block-check-icon code-block-hide"></i>
        </button>
        <span class="code-block-check-tooltip code-block-hide" aria-live="polite">Copied!</span>
    </div>
</div>
    </section>
    </section>

        </article>
<article>
            
<section class="section" id="sitemap">
            <h1>Sitemap<a class="headerlink" href="#sitemap" data-bs-toggle="modal" data-bs-target="#linkReferenceModal"  title="Reference this headline"><i class="fa-solid fa-paragraph"></i></a></h1>
    </section>

        </article>
<!-- content end -->
                                                        </div>
            </div>
        </div>
    </main>

    <div class="modal fade" id="linkReferenceModal" tabindex="-1" aria-labelledby="linkReferenceModalLabel"
    aria-hidden="true" data-current-filename="" data-interlink-shortcode="evoweb/recaptcha">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="linkReferenceModalLabel">Reference to the headline</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="alert alert-success d-none" id="permalink-alert-success" role="alert"></div>
                <div class="mb-3">
                    <label for="permalink-uri" class="col-form-label">Permalink</label>
                    <div class="input-group">
                        <input class="form-control code" id="permalink-uri" readonly>
                        <button type="button" class="btn btn-outline-secondary copy-button" data-target="permalink-uri"><i class="far fa-clone"></i></button>
                    </div>
                    <p>Copy and freely share the link</p>
                </div>
                <div class="mb-3">
                    <div class="alert alert-warning alert-permalink-rst" role="alert">This link target has no permanent anchor assigned.The link below can be used, but is prone to change if the page gets moved.
                    </div>
                    <label for="permalink-rst" class="col-form-label">reStructuredText (reST):</label>
                    <div class="input-group">
                        <textarea class="form-control code" id="permalink-rst" readonly></textarea>
                        <button type="button" class="btn btn-outline-secondary copy-button" data-target="permalink-rst"><i class="far fa-clone"></i></button>
                    </div>
                    <p>Copy this link into your TYPO3 manual. </p>
                </div>
                <div class="mb-3">
                    <label for="permalink-html" class="col-form-label">HTML:</label>
                    <div class="input-group">
                        <textarea class="form-control code" id="permalink-html" readonly></textarea>
                        <button type="button" class="btn btn-outline-secondary copy-button" data-target="permalink-html"><i class="far fa-clone"></i></button>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>    <div class="modal fade" id="generalModal" tabindex="-1" aria-labelledby="linkReferenceModalLabel"
    aria-hidden="true" data-current-filename=""
>
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="generalModalLabel"></h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="alert alert-success d-none" id="general-alert-success" role="alert"></div>
                <div id="generalModalContent">
                </div>
            </div>
            <div class="modal-footer justify-content-between">
                <div id="generalModalCustomButtons"></div>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"><i class="fa-regular fa-circle-xmark"></i>&nbsp;Close</button>
            </div>
        </div>
    </div>
</div></div>


<footer class="page-footer">
    <div class="frame frame-ruler-before frame-background-dark">
        <div class="frame-container">
            <div class="frame-inner">
                <ul class="footer-simplemenu">
                        <li><a href="https://github.com/evoWeb/recaptcha" title="Home" rel="nofollow noopener"><span>Home</span></a></li>
                                                <li><a href="recaptcha@evoweb.de" title="Contact" rel="nofollow noopener"><span>Contact</span></a></li>
                                                <li><a href="https://github.com/evoWeb/recaptcha/issues" rel="nofollow noopener" title="Issues"><span>Issues</span></a></li>
                                                <li><a href="https://github.com/evoWeb/recaptcha" rel="nofollow noopener" title="Repository"><span>Repository</span></a></li>
                                            </ul>                <div class="footer-additional">
                    <p class="text-center">Last rendered: Nov 03, 2024 09:47</p>
                </div>
                <div class="footer-meta">
                                        <div class="footer-meta-copyright">
                        &copy; since 2015 by evoWeb
                    </div>
                    <ul class="footer-meta-navigation">
                        <li><a href="https://typo3.org/legal-notice" rel="nofollow" target="_blank" title="Legal Notice">Legal Notice</a></li>
                        <li><a href="https://typo3.org/privacy-policy" rel="nofollow" target="_blank" title="Privacy Policy">Privacy Policy</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</footer>
<script src="../_resources/js/popper.min.js"></script>
<script src="../_resources/js/bootstrap.min.js"></script>
<script src="../_resources/js/theme.min.js"></script>

<!--
 Locally rendered. No tracking embedded.
-->
</body>
</html>